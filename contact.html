---
layout: page
title: Contact
sidebar_link: true
---
<div class="assemble">
  <form action="https://neamar.fr/email.php" accept-charset="utf-8" onsubmit="document.getElementById('protection').value = 2" method="POST">
      <p><label for="nom">Nom :</label><input type="text" id="nom" name="nom" tabindex="1" /></p>
      <p><label for="mail">Email :</label><input type="text" id="email" name="_replyto" id="mail" autofocus required/></p>
      <input type="hidden" name="_to" value="neamar@neamar.fr" />
      <input type="hidden" name="protection" id="protection" value="1" />
      <p><label for="titre">Titre :</label>
      <input type="text" name="_subject" id="titre" value="" /></p>
      <p><label for="message">Message :</label></p>
      <textarea id="message" name="message" tabindex="4" rows="10"></textarea>
      <p><input type="submit" value="Envoyer" class="animate button"></p>
      <div class="info success">
        Votre message a bien été envoyé
      </div>
      <div class="info error">
        Une erreur s'est produite.
      </div>
  </form>
</div>

<div class="contact">
  {% include mailchimp.html %}
</div>

<script>
  $(document).ready(function() {
    $("#contactform").submit(function (e) {

      e.preventDefault(); // avoid to execute the actual submit of the form.
      $("#contactform .success").hide();
      $("#contactform .error").hide();

      var form = $(this);
      var url = form.attr('action');

      $.ajax({
        type: "POST",
        url: url,
        crossDomain: true,
        data: form.serialize(), // serializes the form's elements.
        success: function (data) {
          console.log('Form success', data);
          $("#contactform .success").show(200);
        },
        error: function (xhr, status, c) {
          console.log(xhr.responseText);
          console.log('Form error', xhr, '####', status, '####', c);
          $("#contactform .error").show(200);
        }
      });
    });
  });
</script>
